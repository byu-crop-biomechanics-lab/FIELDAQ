# Include custom Kivy widgets for all screens
#:import * view.elements

#:import ExitScreen view.screens.main.ExitScreen
#:import LiveFeedScreen view.screens.main.LiveFeedScreen
#:import MainScreen view.screens.main.MainScreen
#:import SettingsScreen view.screens.main.SettingsScreen
#:import TestingScreen view.screens.main.TestingScreen

#:import ColorsScreen view.screens.settings.ColorsScreen
#:import HeightScreen view.screens.settings.HeightScreen
#:import NoteScreen view.screens.settings.NoteScreen
#:import OperatorScreen view.screens.settings.OperatorScreen
#:import PlotScreen view.screens.settings.PlotScreen
#:import SensorsScreen view.screens.settings.SensorsScreen
#:import UpdateScreen view.screens.settings.UpdateScreen
#:import GPSMapScreen view.screens.settings.GPSMapScreen
#:import ArchiveScreen view.screens.settings.ArchiveScreen

#:import NewNoteScreen view.screens.settings.NewNoteScreen

#:import CalibrateScreen view.screens.settings.CalibrateScreen
#:import CalibratePointScreen view.screens.settings.CalibratePointScreen

#:import TestInProgressScreen view.screens.main.testing.TestInProgressScreen
#:import TestingResultsScreen view.screens.main.testing.TestingResultsScreen
#:import BreakHeightScreen view.screens.main.testing.BreakHeightScreen
#:import TestsScreen view.screens.main.testing.TestsScreen
#:import TestDetailScreen view.screens.main.testing.TestDetailScreen

#:import CameraMainScreen view.screens.camera.CameraMainScreen
#:import CameraFeedScreen view.screens.camera.CameraFeedScreen
#:import ImageReviewScreen view.screens.camera.ImageReviewScreen
#:import ImagesViewScreen view.screens.camera.ImagesViewScreen
#:import CameraSettingsScreen view.screens.camera.CameraSettingsScreen

<GranuScreenManager>:
    # Properties
    current: 'main_screen' # Start with the main screen

    # Root
    ExitScreen:
    LiveFeedScreen:
    MainScreen:
    SettingsScreen:
    TestingScreen:

    # Settings
    ColorsScreen:
    HeightScreen:
    NoteScreen:
    OperatorScreen:
    PlotScreen:
    SensorsScreen:
    UpdateScreen:
    GPSMapScreen:
    ArchiveScreen:

    # Settings - Notes
    NewNoteScreen:

    # Settings - Sensors
    CalibrateScreen:
    CalibratePointScreen:

    # Testing
    TestInProgressScreen:
    TestingResultsScreen:
    BreakHeightScreen:
    TestsScreen:
    TestDetailScreen

    # Camera Interface
    CameraMainScreen:
    CameraFeedScreen:
    ImageReviewScreen:
    ImagesViewScreen:
    CameraSettingsScreen:
